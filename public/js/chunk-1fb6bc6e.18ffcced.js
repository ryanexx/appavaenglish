(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fb6bc6e"],{"1e8c":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("v-row",[r("v-col",{attrs:{md:"6",cols:"12"}},[r("v-text-field",{attrs:{label:"Nombres",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("v-col",{attrs:{md:"6",cols:"12"}},[r("v-text-field",{attrs:{label:"Apellidos",required:""},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})],1)],1),r("v-row",[r("v-col",{attrs:{md:"6",cols:"12"}},[r("v-text-field",{attrs:{label:"Correo Electrónico",required:"",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("v-col",{attrs:{md:"6",cols:"12"}},[r("v-select",{attrs:{items:t.roles,label:"Seleccione un rol"},model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}})],1)],1),"post"===t.method.toLowerCase()&&"administrador"===t.form.role?r("v-row",{attrs:{justify:"space-around"}},[r("v-col",{attrs:{md:"8"}},[r("v-text-field",{attrs:{label:"Contraseña",required:"",type:t.type},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("v-col",{staticClass:"d-flex align-center justify-center",attrs:{md:"4"}},[r("v-btn",{staticClass:"mr-2",attrs:{tile:"",color:"success",type:"button"},on:{click:t.viewOrHidePw}},[r("v-icon",[t._v("mdi-eye")])],1),r("v-btn",{attrs:{tile:"",color:"indigo",type:"button",dark:""},on:{click:t.getRandomPw}},[t._v("Generar")])],1)],1):t._e(),t.error?r("v-alert",{attrs:{dense:"",type:"error"}},[t._v(" "+t._s(t.error)+" ")]):t._e(),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"mx-md-1",attrs:{color:"primary",type:"submit",disabled:t.loader}},[t.loader?r("v-progress-circular",{staticClass:"mr-2",attrs:{size:"20",indeterminate:"",color:"white"}}):t._e(),t._v(" "+t._s("post"===this.method.toLowerCase()?"Guardar":"Actualizar")+" ")],1),t._t("default"),r("v-btn",{staticClass:"mx-md-1",attrs:{color:"red",type:"button",dark:"",to:"/person"}},[t._v("Atrás")])],2)],1)],1)},o=[],s=(r("b0c0"),r("d3b7"),{name:"UserFrm",props:{url:{type:String,default:"/register"},method:{type:String,default:"POST"},form:{type:Object,default:function(){return{name:"",lastname:"",email:"",password:"",role:"CONCEJAL"}}}},data:function(){return{type:"password",passwordLength:10,error:"",loader:!1,roles:["CONCEJAL","ADMINISTRADOR","ALCALDE","VICEALCALDE"]}},methods:{onSubmit:function(){var t=this;this.validate()&&(this.loader=!0,this.form.role=this.form.role.toUpperCase(),this.$http({method:this.method,url:this.url,data:this.form}).then((function(e){"post"===t.method.toLowerCase()?e.data&&e.data.user&&(t.$alert.ok("".concat(t.form.role.toUpperCase()," registrado con éxito")),t.clearForm()):e.data&&e.data.status&&"success"===e.data.status&&t.$alert.ok(e.data.message)})).catch((function(e){e.response&&e.response.data&&(t.error=e.response.data.message)})).finally((function(){t.loader=!1})))},validate:function(){var t=this.form;return this.error="",t.name&&t.lastname&&t.email?!(!t.password&&"post"===this.method.toLowerCase()&&"administrador"===t.role)||(this.error="Asegurese de ingresar o generar una contraseña",!1):(this.error="El nombre, apellido y correo son requeridos!",!1)},clearForm:function(){this.form.name="",this.form.lastname="",this.form.email="",this.form.role="CONCEJAL",this.form.password="",this.type="password"},viewOrHidePw:function(){"password"===this.type?this.type="text":this.type="password"},getRandomPw:function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=e.length,a=0;a<this.passwordLength;a++)t+=e.charAt(Math.floor(Math.random()*r));this.form.password=t,this.type="text"}}}),i=s,n=r("2877"),l=Object(n["a"])(i,a,o,!1,null,null,null);e["a"]=l.exports},"2ad1":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"col-md-8 offset-md-2"},[t.form&&t.form.name?r("v-card-text",[r("h2",[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-account-edit")]),t._v(" Modificar Persona")],1),r("v-divider",{staticClass:"my-3"}),t.id?r("UserFrm",{attrs:{url:"/actualiza-usuario/"+t.id,method:"put",form:t.form}}):t._e()],1):r("v-card-text",[t.loader?r("div",{staticClass:"text-center"},[t.loader?r("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:"",color:"primary"}}):t._e(),r("p",[t._v("Cargando datos...")])],1):t._e()])],1)},o=[],s=(r("d3b7"),r("1e8c")),i={name:"UserEdit",components:{UserFrm:s["a"]},data:function(){return{id:null,loader:!1,form:{},dialog:!1}},mounted:function(){this.id=this.$route.params.id,this.getUser()},methods:{getUser:function(){var t=this;null!==this.id&&(this.loader=!0,this.$http.get("/user/".concat(this.id)).then((function(e){e.data&&e.data.user&&(t.form=e.data.user,t.form.password="")})).finally((function(){t.loader=!1})))}}},n=i,l=r("2877"),c=Object(l["a"])(n,a,o,!1,null,"c52bd93e",null);e["default"]=c.exports},b0c0:function(t,e,r){var a=r("83ab"),o=r("9bf2").f,s=Function.prototype,i=s.toString,n=/^\s*function ([^ (]*)/,l="name";a&&!(l in s)&&o(s,l,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-1fb6bc6e.18ffcced.js.map